@page "/profile"
@using AlcoholLimit.Data
@inject ProfileDatabase pd
<h3>Profile</h3>

@if (profile == null)
{
	<p><em>Loading...</em></p>
}
else
{
	<div class="mb-3">
		<label for="exampleFormControlInput1" class="form-label">Name</label>
		<input @bind="profile.Name" class="form-control" id="exampleFormControlInput1">
	</div>
	<div class="mb-3">
		<label for="exampleFormControlInput1" class="form-label">Email address</label>
		<input @bind="profile.Email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
	</div>
	<div class="mb-3">
		<label for="exampleFormControlInput1" class="form-label">Password</label>
		<input @bind="profile.Password" class="form-control" id="exampleFormControlInput1">
	</div>
	<div class="mb-3">
		<label for="exampleFormControlInput1" class="form-label">Weight</label>
		<input @bind="profile.Weight" class="form-control" id="exampleFormControlInput1" placeholder="80 kg">
	</div>

	<div class="form-check">
		<input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
		<label class="form-check-label" for="flexRadioDefault1">
			Férfi
		</label>
	</div>
	<div class="form-check">
		<input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked>
		<label class="form-check-label" for="flexRadioDefault2">
			Nő
		</label>
	</div>

	<button class="btn btn-primary" @onclick="Save">Save</button>
}


@code {
	private ProfileItem profile;

	protected override async Task OnInitializedAsync()
	{
		profile = await pd.GetItemAsync("Sanyi");
		if(profile == null)
		{
			profile = new ProfileItem();
		}
		
		
	}

	private async void Save()
	{

		await pd.SaveItemAsync(profile);
	}

	private async void Refresh()
	{
		profile = await pd.GetItemAsync(1);
	}
}
